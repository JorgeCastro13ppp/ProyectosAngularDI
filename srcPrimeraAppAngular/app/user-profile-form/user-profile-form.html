<div class="container">

  <mat-card class="card">

    <mat-card-header>
      <mat-card-title>Perfil de Usuario</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form>

        <app-user-input-field
          label="Nombre"
          [value]="user.firstName"
          (valueChange)="user.firstName = $event">
        </app-user-input-field>

        <app-user-input-field
          label="Apellidos"
          [value]="user.lastName"
          (valueChange)="user.lastName = $event">
        </app-user-input-field>

        <app-user-input-field
          label="Email"
          type="email"
          [value]="user.email"
          (valueChange)="user.email = $event">
        </app-user-input-field>

        <app-user-input-field
            label="Edad"
            type="number"
            [value]="user.age"
            (valueChange)="user.age = +$event">
        </app-user-input-field>


        <app-user-input-field
          label="Ciudad"
          type="textarea"
          [value]="user.city"
          (valueChange)="user.city = $event">
        </app-user-input-field>

        <div class="buttons">
          <button
            mat-raised-button
            color="primary"
            (click)="guardar()"
            [disabled]="!user.firstName">
            Guardar
          </button>

          <button
            mat-raised-button
            color="warn"
            (click)="reset()">
            Reiniciar
          </button>
        </div>

      </form>
    </mat-card-content>

    <mat-divider></mat-divider>

    @if (guardado) {
      <mat-card-content>
        <p class="ok">Perfil guardado correctamente</p>
      </mat-card-content>
    }

    <mat-card-content>
      <h3>Vista previa</h3>
      <p><strong>Nombre:</strong> {{ user.firstName }} {{ user.lastName }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>Edad:</strong> {{ user.age }}</p>
      <p><strong>Ciudad:</strong> {{ user.city }}</p>
    </mat-card-content>

  </mat-card>

</div>
